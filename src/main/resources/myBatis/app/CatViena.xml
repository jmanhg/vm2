<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="mx.com.oposicion.persistence.CatVienaMapper">


	<sql id="camposCatViena">
            categoria,
            division,
            seccion,
            descripcion,
            idkey
        </sql>


    <resultMap id="catVienaMap" type="CatVienaType" >
        <result property="categoria" column="categoria"/>
        <result property="division" column="division"/>
        <result property="seccion" column="seccion"/>
        <result property="descripcion" column="descripcion"/>
        <result property="idkey" column="idkey"/>
    </resultMap>


    <select id="findById" resultMap="catVienaMap" parameterType="java.lang.Integer">
		SELECT 
			<include refid="camposCatViena"/>
		FROM 
			cat_viena
		WHERE 
                        idkey=#{idkey}
    </select>
    
    <select id="findByCod" resultMap="catVienaMap" parameterType="map">
		SELECT 
			<include refid="camposCatViena"/>
		FROM 
			cat_viena
		WHERE 
			categoria=#{categoria},
                        and division=#{division},
                        and seccion=#{seccion}
    </select>
    
    

    <select id="getAll" resultMap="catVienaMap">
        SELECT 
            <include refid="camposCatViena"/>
        FROM 
            cat_viena 
        where 1=1
        order by categoria,division,seccion
    </select>



</mapper>
